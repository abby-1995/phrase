<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>è‹±è¯­çŸ­è¯­è®°å¿†å¤§å¸ˆ</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background: #f0f2f5;
    }

    .category-list {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    .category-btn {
      padding: 15px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .category-btn:hover {
      transform: scale(1.05);
      background: #45a049;
    }

    .question-container {
      display: none;
    }

    .progress {
      margin: 10px 0;
      color: #666;
    }

    .options {
      display: grid;
      gap: 10px;
      margin: 20px 0;
    }

    .option-btn {
      padding: 12px;
      background: white;
      border: 2px solid #ddd;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .option-btn:hover {
      border-color: #4CAF50;
    }

    .correct {
      background: #c8e6c9 !important;
    }

    .wrong {
      background: #ffcdd2 !important;
    }

    .feedback {
      margin-top: 15px;
      padding: 10px;
      border-radius: 6px;
    }

    .next-button {
      padding: 10px 15px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      display: none;
    }

    .next-button:hover {
      background: #45a049;
    }

    .back-to-category {
      padding: 10px 15px;
      background: #2196F3;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }

    .back-to-category:hover {
      background: #1976D2;
    }
  </style>
</head>

<body>
  <div id="categorySelection">
    <h2>é€‰æ‹©ç»ƒä¹ ç±»åˆ« ğŸ“š</h2>
    <div class="category-list" id="categories"></div>
  </div>

  <div class="question-container" id="questionContainer">
    <div class="progress" id="progress"></div>
    <h3 id="phraseDisplay"></h3>
    <div class="options" id="options"></div>
    <div id="feedback" class="feedback"></div>
    <button id="nextButton" class="next-button" onclick="showNextQuestion()">ä¸‹ä¸€é¢˜</button>
    <button id="backToCategoryButton" class="back-to-category" onclick="backToCategory()">å›åˆ°ç›®å½•</button>
  </div>

  <script>
    // çŸ­è¯­æ•°æ®ï¼ˆç¤ºä¾‹æ•°æ®ï¼Œéœ€æ ¹æ®å®é™…æ–‡ä»¶å†…å®¹è¡¥å……å®Œæ•´ï¼‰
    const phrasesData = {
      "act": [
        ["act as", "å……å½“"],
        ["act for", "ä»£ç†"],
        ["act out", "è¡¨æ¼”"],
        ["act up", "æ£ä¹±"]
      ],
      "break": [
        ["break away", "æ‘†è„±"],
        ["break down", "å‡ºæ•…éšœ"],
        ["break in", "é—¯å…¥"],
        ["break into", "ç ´é—¨è€Œå…¥"],
        ["break off", "æŠ˜æ–­"],
        ["break out", "çˆ†å‘"],
        ["break through", "çªå›´"],
        ["break up", "åˆ†è§£"]
      ],
      "bring": [
        ["bring about", "å¼•èµ·"],
        ["bring along", "å¸¦æ¥"],
        ["bring back", "æ‹¿å›"],
        ["bring down", "é™ä½"],
        ["bring in", "å¼•è¿›"],
        ["bring on", "å‘å±•"],
        ["bring out", "æ‹¿å‡º"],
        ["bring to", "ä½¿è‹é†’"],
        ["bring up", "æŠšå…»"]
      ],
      "call": [
        ["call at", "è®¿é—®ï¼ˆæŸåœ°ï¼‰"],
        ["call back", "å›ç”µè¯"],
        ["call for", "æå€¡"],
        ["call in", "è¯·æ¥"],
        ["call off", "å–æ¶ˆ"],
        ["call on", "å·å¬"],
        ["call out", "å¤§å£°å‘¼å–Š"],
        ["call up", "æ‰“ç”µè¯"]
      ],
      "come": [
        ["come about", "å‘ç”Ÿ"],
        ["come across", "å¶ç„¶ç›¸é‡"],
        ["come along", "è¿›å±•"],
        ["come back", "å›æ¥"],
        ["come down", "ä¸‹æ¥"],
        ["come for", "æ¥æ‹¿"],
        ["come from", "æ¥è‡ª"],
        ["come in", "è¿›æ¥"],
        ["come into being", "å½¢æˆ"],
        ["come off", "è„±è½"],
        ["come on", "åŠ æ²¹"],
        ["come out", "å‡ºç°"],
        ["come over", "è¿‡æ¥"],
        ["come to", "è‹é†’"],
        ["come true", "å®ç°"]
      ],
      "cut": [
        ["cut away", "åˆ‡é™¤"],
        ["cut down", "ç å€’"],
        ["cut in", "æ’å˜´"],
        ["cut into pieces", "åˆ‡æˆç¢ç‰‡"],
        ["cut off", "åˆ‡æ–­"],
        ["cut out", "åˆ é™¤"],
        ["cut up", "åˆ‡ç¢"]
      ],
      "do": [
        ["do away with", "åºŸé™¤"],
        ["do oneâ€™s best", "å°½åŠ›"],
        ["do some reading", "è¯»ä¹¦"],
        ["do some shopping", "è´­ç‰©"],
        ["do up", "æ‰“æ‰®"]
      ],
      "get": [
        ["get across", "ç†è§£"],
        ["get away", "é€ƒè„±"],
        ["get back", "å›æ¥"],
        ["get down", "ä¸‹æ¥"],
        ["get in", "è¿›å…¥"],
        ["get off", "ä¸‹è½¦"],
        ["get on", "ä¸Šè½¦"],
        ["get out", "å‡ºå»"],
        ["get over", "å…‹æœ"],
        ["get through", "å®Œæˆ"],
        ["get up", "èµ·åºŠ"]
      ],
      "give": [
        ["give away", "èµ é€"],
        ["give back", "å½’è¿˜"],
        ["give in", "æŠ•é™"],
        ["give off", "é‡Šæ”¾"],
        ["give out", "åˆ†å‘"],
        ["give up", "æ”¾å¼ƒ"],
        ["give a concert", "å¼€éŸ³ä¹ä¼š"],
        ["give birth to", "ç”Ÿäº§"],
        ["give sb a hand", "å¸®åŠ©æŸäºº"]
      ],
      "go": [
        ["go abroad", "å‡ºå›½"],
        ["go away", "èµ°å¼€"],
        ["go back", "å›å»"],
        ["go beyond", "è¶…è¶Š"],
        ["go down", "ä¸‹é™"],
        ["go for", "åŠªåŠ›è·å–"],
        ["go in for", "å‚åŠ "],
        ["go into", "è¿›å…¥"],
        ["go off", "ç¦»å¼€"],
        ["go on", "ç»§ç»­"],
        ["go out", "ç†„ç­"],
        ["go through", "é€šè¿‡"],
        ["go up", "ä¸Šå‡"],
        ["go with", "æ­é…"]
      ],
      "have": [
        ["have a break", "ä¼‘æ¯"],
        ["have a cold", "æ„Ÿå†’"],
        ["have a conversation", "äº¤è°ˆ"],
        ["have a good time", "ç©å¾—å¼€å¿ƒ"],
        ["have a look", "çœ‹ä¸€çœ‹"],
        ["have a rest", "ä¼‘æ¯"],
        ["have a swim", "æ¸¸æ³³"],
        ["have a try", "è¯•ä¸€è¯•"],
        ["have breakfast", "åƒæ—©é¥­"],
        ["have lessons", "ä¸Šè¯¾"],
        ["have mercy on", "å®½æ•"],
        ["have no choice", "åˆ«æ— é€‰æ‹©"],
        ["have to", "ä¸å¾—ä¸"]
      ],
      "hold": [
        ["hold a meeting", "å¼€ä¼š"],
        ["hold back", "æ§åˆ¶ï¼Œéšç’"],
        ["hold on", "ç­‰ä¸€ç­‰ï¼Œä¸è¦æŒ‚ç”µè¯"],
        ["hold on to", "æŠ“ä½ï¼Œä¿ä½"],
        ["hold out", "ä¼¸å‡ºï¼ŒåšæŒä¸‹å»"],
        ["hold up", "é˜»æŒ¡ï¼Œä¸¾èµ·"]
      ],
      "keep": [
        ["keep away from", "é¿å¼€"],
        ["keep back", "éšç’"],
        ["keep down", "æ§åˆ¶"],
        ["keep off", "ä¸æ¥è§¦"],
        ["keep on", "ç»§ç»­"],
        ["keep out", "æŒ¡åœ¨å¤–é¢"],
        ["keep up", "ä¿æŒ"],
        ["keep up with", "èµ¶ä¸Š"],
        ["keep a record", "ä¿æŒè®°å½•"],
        ["keep an eye on", "æ³¨è§†"],
        ["keep busy", "ä¿æŒå¿™ç¢Œ"],
        ["keep fit", "ä¿æŒå¥åº·"],
        ["keep in mind", "è®°ä½"]
      ],
      "knock": [
        ["knock at", "æ•²æ‰“"],
        ["knock down", "æ’å€’"],
        ["knock into", "æ’åˆ°"],
        ["knock out", "æ·˜æ±°"]
      ],
      "look": [
        ["look after", "ç…§é¡¾"],
        ["look at", "çœ‹ç€"],
        ["look back", "å›é¡¾"],
        ["look forward to", "ç›¼æœ›"],
        ["look for", "å¯»æ‰¾"],
        ["look into", "è°ƒæŸ¥"],
        ["look out", "å½“å¿ƒ"],
        ["look over", "æ£€æŸ¥"],
        ["look through", "æµè§ˆ"],
        ["look up", "æŸ¥é˜…"],
        ["look up to", "å°Šæ•¬"]
      ],
      "make": [
        ["make into", "åˆ¶æˆ"],
        ["make out", "ç†è§£"],
        ["make up", "åŒ–å¦†ï¼Œç¼–é€ "],
        ["make up for", "å¼¥è¡¥"],
        ["make a choice", "åšå‡ºé€‰æ‹©"],
        ["make a decision", "åšå‡ºå†³å®š"],
        ["make a mistake", "çŠ¯é”™è¯¯"],
        ["make a plan", "åˆ¶å®šè®¡åˆ’"],
        ["make a promise", "æ‰¿è¯º"],
        ["make friends with", "äº¤æœ‹å‹"],
        ["make it", "æˆåŠŸ"],
        ["make sense", "æœ‰æ„ä¹‰"],
        ["make sure", "ç¡®ä¿"]
      ],
      "pass": [
        ["pass away", "å»ä¸–"],
        ["pass by", "ç»è¿‡"],
        ["pass down", "ä¼ ä¸‹æ¥"],
        ["pass on", "ä¼ é€’"],
        ["pass out", "æ˜å¥"],
        ["pass through", "ç©¿è¿‡"],
        ["pass the exam", "é€šè¿‡è€ƒè¯•"]
      ],
      "pay": [
        ["pay attention to", "æ³¨æ„"],
        ["pay for", "ä»˜è´¹"],
        ["pay off", "è¿˜æ¸…"],
        ["pay the bill", "ä¹°å•"],
        ["pay a visit to", "è®¿é—®"]
      ],
      "pick": [
        ["pick out", "æŒ‘é€‰"],
        ["pick up", "æ¡èµ·ï¼Œå­¦ä¼š"],
        ["pick sb up", "å¼€è½¦æ¥æŸäºº"]
      ],
      "put": [
        ["put away", "æ”¶æ‹¾"],
        ["put down", "æ”¾ä¸‹"],
        ["put forward", "æå‡º"],
        ["put off", "æ¨è¿Ÿ"],
        ["put on", "ç©¿ä¸Š"],
        ["put out", "æ‰‘ç­"],
        ["put up", "å¼ è´´"],
        ["put up with", "å¿å—"]
      ],
      "send": [
        ["send away", "è®©èµ°å¼€"],
        ["send for", "æ´¾äººå»è¯·"],
        ["send in", "å¯„é€"],
        ["send out", "å‘å‡º"],
        ["send up", "å‘å°„"]
      ],
      "set": [
        ["set about", "ç€æ‰‹"],
        ["set aside", "ç•™å‡º"],
        ["set down", "æ”¾ä¸‹"],
        ["set off", "å‡ºå‘"],
        ["set out", "å‡ºå‘"],
        ["set up", "åˆ›ç«‹"],
        ["set fire to", "æ”¾ç«çƒ§"],
        ["set a goal", "è®¾å®šç›®æ ‡"]
      ],
      "stand": [
        ["stand by", "æ”¯æŒ"],
        ["stand for", "ä»£è¡¨"],
        ["stand out", "çªå‡º"],
        ["stand up", "èµ·ç«‹"]
      ],
      "take": [
        ["take after", "ç›¸åƒ"],
        ["take apart", "åˆ†å¼€"],
        ["take away", "æ‹¿èµ°"],
        ["take back", "æ‹¿å›"],
        ["take down", "æ‹¿ä¸‹"],
        ["take in", "å¸æ”¶"],
        ["take off", "èµ·é£"],
        ["take on", "å‘ˆç°"],
        ["take out", "æ‹¿å‡º"],
        ["take over", "æ¥ç®¡"],
        ["take up", "ä»äº‹"],
        ["take a bath", "æ´—æ¾¡"],
        ["take a chance", "å†’é™©"],
        ["take a look", "çœ‹ä¸€çœ‹"],
        ["take a message", "æå£ä¿¡"],
        ["take a photo", "æ‹ç…§"],
        ["take advantage of", "åˆ©ç”¨"],
        ["take care of", "ç…§é¡¾"],
        ["take effect", "ç”Ÿæ•ˆ"],
        ["take exercise", "è¿åŠ¨"],
        ["take notes", "åšç¬”è®°"],
        ["take part in", "å‚åŠ "],
        ["take place", "å‘ç”Ÿ"]
      ],
      "think": [
        ["think about", "æ€è€ƒ"],
        ["think of", "æƒ³åˆ°"],
        ["think out", "æƒ³å‡º"],
        ["think over", "ä»”ç»†è€ƒè™‘"],
        ["think through", "æ€è€ƒç›´åˆ°å¾—å‡ºç»“è®º"],
        ["think up", "æƒ³å‡º"],
        ["think twice", "å†ä¸‰è€ƒè™‘"]
      ],
      "turn": [
        ["turn against", "èƒŒå›"],
        ["turn around", "è½¬èº«"],
        ["turn away", "èµ¶èµ°"],
        ["turn down", "è°ƒå°"],
        ["turn in", "äº¤è¿›"],
        ["turn into", "å˜æˆ"],
        ["turn off", "å…³æ‰"],
        ["turn on", "æ‰“å¼€"],
        ["turn out", "ç»“æœæ˜¯"],
        ["turn over", "ç¿»è½¬"],
        ["turn up", "å‡ºç°"],
        ["turn right/left", "å‘å³/å·¦è½¬"]
      ],
      "about": [
        ["speak about", "è°ˆè®º"],
        ["talk about", "è°ˆè®º"],
        ["care about", "å…³å¿ƒ"],
        ["bring about", "å¼•èµ·"],
        ["set about", "ç€æ‰‹"],
        ["come about", "å‘ç”Ÿ"],
        ["hear about", "å¬è¯´"],
        ["worry about", "æ‹…å¿ƒ"]
      ],
      "at": [
        ["aim at", "ç„å‡†"],
        ["run at", "å†²å‘"],
        ["call at", "æ‹œè®¿"],
        ["tear at", "æ’•æ‰¯"],
        ["look at", "çœ‹"],
        ["work at", "ä»äº‹"],
        ["come at", "æ”»å‡»"],
        ["shout at", "å¯¹â€¦â€¦å–Šå«"],
        ["stare at", "å‡è§†"],
        ["glare at", "æ€’è§†"],
        ["glance at", "ç¥ä¸€çœ¼"],
        ["laugh at", "å˜²ç¬‘"],
        ["knock at", "æ•²"],
        ["point at", "æŒ‡å‘"],
        ["smile at", "å¯¹â€¦â€¦å¾®ç¬‘"],
        ["strike at", "æ‰“å‡»"],
        ["shoot at", "å°„å‡»"],
        ["wonder at", "å¯¹â€¦â€¦æ„Ÿåˆ°æƒŠè®¶"]
      ],
      "away": [
        ["die away", "é€æ¸æ¶ˆå¤±"],
        ["put away", "æ”¶èµ·æ¥"],
        ["pass away", "å»ä¸–"],
        ["wash away", "å†²èµ°"],
        ["take away", "æ‹¿èµ°"],
        ["give away", "èµ é€"],
        ["send away", "é€èµ°"],
        ["turn away", "è½¬è¿‡èº«"],
        ["wear away", "ç£¨æŸ"],
        ["throw away", "æ‰”æ‰"],
        ["blow away", "å¹èµ°"],
        ["carry away", "å¸¦èµ°"],
        ["clear away", "æ¸…ç†"],
        ["break away", "æ‘†è„±"]
      ],
      "back": [
        ["keep back", "éšç’"],
        ["hold back", "é˜»æ­¢"],
        ["give back", "å½’è¿˜"],
        ["call back", "å›ç”µè¯"],
        ["take back", "æ‹¿å›"],
        ["look back", "å›é¡¾"]
      ],
      "down": [
        ["cut down", "å‰Šå‡"],
        ["put down", "æ”¾ä¸‹"],
        ["take down", "å–ä¸‹"],
        ["turn down", "è°ƒå°"],
        ["slow down", "å‡é€Ÿ"],
        ["pass down", "ä¼ ä¸‹æ¥"],
        ["calm down", "å¹³é™"],
        ["burn down", "çƒ§æ¯"],
        ["tear down", "æ‹†é™¤"],
        ["come down", "ä¸‹æ¥"],
        ["break down", "å‡ºæ•…éšœ"],
        ["bring down", "é™ä½"],
        ["settle down", "å®‰å®š"]
      ],
      "from": [
        ["die from", "æ­»äº"],
        ["hear from", "æ”¶åˆ°â€¦â€¦çš„ä¿¡"],
        ["learn from", "å‘â€¦â€¦å­¦ä¹ "],
        ["differ from", "ä¸â€¦â€¦ä¸åŒ"],
        ["suffer from", "é­å—"],
        ["result from", "ç”±â€¦â€¦å¯¼è‡´"],
        ["separate from", "ä¸â€¦â€¦åˆ†å¼€"],
        ["keep from", "é˜»æ­¢"],
        ["prevent from", "é˜²æ­¢"],
        ["date from", "å§‹äº"]
      ],
      "for": [
        ["run for", "ç«é€‰"],
        ["ask for", "è¦æ±‚"],
        ["beg for", "ä¹æ±‚"],
        ["wait for", "ç­‰å¾…"],
        ["look for", "å¯»æ‰¾"],
        ["call for", "è¦æ±‚"],
        ["hunt for", "æœå¯»"],
        ["long for", "æ¸´æœ›"],
        ["care for", "å…³å¿ƒ"],
        ["seek for", "å¯»æ‰¾"],
        ["come for", "æ¥å–"],
        ["apply for", "ç”³è¯·"],
        ["stand for", "ä»£è¡¨"],
        ["search for", "å¯»æ‰¾"],
        ["change for", "æ¢å–"],
        ["charge for", "æ”¶è´¹"],
        ["take for", "è¯¯ä»¥ä¸º"],
        ["hope for", "å¸Œæœ›"]
      ],
      "in": [
        ["get in", "è¿›å…¥"],
        ["fill in", "å¡«å†™"],
        ["cut in", "æ’å˜´"],
        ["join in", "å‚åŠ "],
        ["look in", "æŸ¥çœ‹"],
        ["hand in", "ä¸Šäº¤"],
        ["drop in", "æ‹œè®¿"],
        ["give in", "è®©æ­¥"],
        ["take in", "å¸æ”¶"],
        ["call in", "å¬é›†"],
        ["bring in", "å¼•è¿›"],
        ["break in", "é—¯å…¥"],
        ["result in", "å¯¼è‡´"],
        ["succeed in", "æˆåŠŸ"],
        ["persist in", "åšæŒ"]
      ],
      "into": [
        ["run into", "æ’ä¸Š"],
        ["look into", "è°ƒæŸ¥"],
        ["burst into", "é—¯å…¥"],
        ["turn into", "å˜æˆ"],
        ["change into", "å˜æˆ"],
        ["divide into", "åˆ†æˆ"],
        ["put into", "æ”¾å…¥"],
        ["translate into", "ç¿»è¯‘æˆ"]
      ],
      "of": [
        ["die of", "æ­»äº"],
        ["talk of", "è°ˆè®º"],
        ["hear of", "å¬è¯´"],
        ["think of", "æƒ³åˆ°"],
        ["dream of", "æ¢¦åˆ°"],
        ["speak of", "è°ˆåˆ°"],
        ["consist of", "ç”±â€¦â€¦ç»„æˆ"],
        ["approve of", "èµæˆ"],
        ["complain of", "æŠ±æ€¨"],
        ["become of", "å‘ç”Ÿâ€¦â€¦æƒ…å†µ"]
      ],
      "out": [
        ["go out", "ç†„ç­"],
        ["set out", "å‡ºå‘"],
        ["try out", "è¯•éªŒ"],
        ["put out", "æ‰‘ç­"],
        ["run out", "ç”¨å®Œ"],
        ["let out", "é‡Šæ”¾"],
        ["pick out", "æŒ‘é€‰"],
        ["hold out", "åšæŒ"],
        ["wear out", "ç©¿ç ´"],
        ["make out", "ç†è§£"],
        ["keep out", "é˜»æ­¢è¿›å…¥"],
        ["find out", "å‘ç°"],
        ["work out", "è§£å†³"],
        ["send out", "å‘å‡º"],
        ["give out", "åˆ†å‘"],
        ["look out", "å°å¿ƒ"],
        ["hand out", "åˆ†å‘"],
        ["help out", "å¸®åŠ©"],
        ["turn out", "ç»“æœæ˜¯"],
        ["come out", "å‡ºç‰ˆ"],
        ["cross out", "åˆ’æ‰"],
        ["burst out", "çªç„¶çˆ†å‘"],
        ["carry out", "æ‰§è¡Œ"],
        ["break out", "çˆ†å‘"],
        ["point out", "æŒ‡å‡º"],
        ["figure out", "ç®—å‡º"],
        ["bring out", "é˜æ˜"],
        ["leave out", "é—æ¼"],
        ["speak out", "å¤§å£°è¯´å‡º"]
      ],
      "over": [
        ["go over", "å¤ä¹ "],
        ["get over", "å…‹æœ"],
        ["run over", "å‹è¿‡"],
        ["take over", "æ¥ç®¡"],
        ["turn over", "ç¿»è½¬"],
        ["fall over", "æ‘”å€’"],
        ["roll over", "ç¿»æ»š"],
        ["look over", "æ£€æŸ¥"],
        ["think over", "ä»”ç»†è€ƒè™‘"],
        ["watch over", "çœ‹å®ˆ"]
      ],
      "to": [
        ["add to", "å¢åŠ "],
        ["get to", "åˆ°è¾¾"],
        ["see to", "å¤„ç†"],
        ["turn to", "è½¬å‘"],
        ["come to", "è¾¾åˆ°"],
        ["lead to", "å¯¼è‡´"],
        ["reply to", "å›å¤"],
        ["refer to", "æåŠ"],
        ["bring to", "ä½¿â€¦â€¦è‹é†’"],
        ["agree to", "åŒæ„"],
        ["object to", "åå¯¹"],
        ["point to", "æŒ‡å‘"],
        ["write to", "å†™ä¿¡ç»™"],
        ["relate to", "æ¶‰åŠ"],
        ["attend to", "å¤„ç†"],
        ["belong to", "å±äº"],
        ["supply to", "æä¾›"],
        ["devote to", "è‡´åŠ›äº"],
        ["stick to", "åšæŒ"],
        ["compare to", "ä¸â€¦â€¦ç›¸æ¯”"],
        ["hold to", "åšæŒ"],
        ["return to", "è¿”å›"],
        ["amount to", "æ€»è®¡"],
        ["live up to", "ä¸è¾œè´Ÿ"]
      ]
      // ç»§ç»­æ·»åŠ å…¶ä»–ç±»åˆ«...
    };
    let currentQuestions = [];
    let wrongAnswers = [];
    let currentIndex = 0;
    // åˆå§‹åŒ–ç±»åˆ«é€‰æ‹©
    function initCategories() {
      const container = document.getElementById('categories');
      Object.keys(phrasesData).forEach(category => {
        const btn = document.createElement('button');
        btn.className = 'category-btn';
        btn.textContent = `${category} (${phrasesData[category].length}é¢˜)`;
        btn.onclick = () => startGame(category);
        container.appendChild(btn);
      });
    }

    function startGame(category) {
      document.getElementById('categorySelection').style.display = 'none';
      document.getElementById('questionContainer').style.display = 'block';
      currentQuestions = shuffle([...phrasesData[category]]);
      wrongAnswers = [];
      currentIndex = 0;
      showNextQuestion();
    }

    function showNextQuestion() {
      document.getElementById('nextButton').style.display = 'none'; // éšè—â€œä¸‹ä¸€é¢˜â€æŒ‰é’®
      if (currentIndex >= currentQuestions.length) {
        if (wrongAnswers.length > 0) {
          currentQuestions = shuffle(wrongAnswers);
          wrongAnswers = [];
          currentIndex = 0;
        } else {
          return alert('ç»ƒä¹ å®Œæˆï¼ğŸ‰');
        }
      }
      const [phrase, correctAnswer] = currentQuestions[currentIndex];
      document.getElementById('phraseDisplay').textContent = phrase;
      updateProgress();
      // ç”Ÿæˆé€‰é¡¹ï¼ˆåŒ…å«æ­£ç¡®ç­”æ¡ˆå’Œéšæœºé”™è¯¯ç­”æ¡ˆï¼‰
      const options = [correctAnswer];
      while (options.length < 4) {
        const randomAnswer = getRandomAnswer(phrase);
        if (!options.includes(randomAnswer)) options.push(randomAnswer);
      }
      displayOptions(shuffle(options), correctAnswer);
    }

    function displayOptions(options, correct) {
      const container = document.getElementById('options');
      container.innerHTML = '';
      options.forEach(answer => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = answer;
        btn.onclick = () => checkAnswer(answer === correct, correct);
        container.appendChild(btn);
      });
    }

    function checkAnswer(isCorrect, correctAnswer) {
      const feedback = document.getElementById('feedback');
      const options = document.querySelectorAll('.option-btn');
      options.forEach(btn => {
        btn.disabled = true;
        if (btn.textContent === correctAnswer) {
          btn.classList.add('correct');
        }
      });
      if (isCorrect) {
        feedback.textContent = "æ­£ç¡®ï¼âœ…";
        feedback.style.backgroundColor = "#c8e6c9";
        currentIndex++;
        setTimeout(showNextQuestion, 1500); // æ­£ç¡®æ—¶è‡ªåŠ¨è·³åˆ°ä¸‹ä¸€é¢˜
      } else {
        feedback.textContent = `é”™è¯¯ âŒ æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${correctAnswer}`;
        feedback.style.backgroundColor = "#ffcdd2";
        wrongAnswers.push(currentQuestions[currentIndex]);
        currentIndex++;
        document.getElementById('nextButton').style.display = 'block'; // æ˜¾ç¤ºâ€œä¸‹ä¸€é¢˜â€æŒ‰é’®
      }
    }

    function updateProgress() {
      const progress = document.getElementById('progress');
      progress.textContent = `è¿›åº¦ï¼š${currentIndex + 1}/${currentQuestions.length} 
            å‰©ä½™å¤ä¹ ï¼š${wrongAnswers.length}`;
    }
    // å›åˆ°ç›®å½•
    function backToCategory() {
      document.getElementById('categorySelection').style.display = 'block';
      document.getElementById('questionContainer').style.display = 'none';
    }
    // å®ç”¨å·¥å…·å‡½æ•°
    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function getRandomAnswer(currentPhrase) {
      const allAnswers = Object.values(phrasesData)
        .flat()
        .filter(([p]) => p !== currentPhrase)
        .map(([, a]) => a);
      return allAnswers[Math.floor(Math.random() * allAnswers.length)];
    }
    // åˆå§‹åŒ–
    initCategories();
  </script>
</body>

</html>
